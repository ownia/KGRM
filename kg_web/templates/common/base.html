<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="藕丝空间">
    <meta name="author" content="东方鹗">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <!--引入项目的图标，将需要的 ico 文件放到 static/images 文件夹下．-->

    <title>{% block title %}KGRM{% endblock %}</title>
    <!--设置网页的标题，通过这样的设置，你可以利用 jinja2 的一些特性，将每个网页的标题进行不通的设置．-->

    {% block css %}　<!--css模块区域-->
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <!-- 可选的Bootstrap主题文件（一般不用引入） -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-theme.min.css') }}">
    <!-- Custom styles for this template -->
    <link href="{{ url_for('static', filename='css/offcanvas.css') }}" rel="stylesheet">
    {% endblock %}
</head>

<body>
{% include "common/header.html" %}<!--引入网页的头部模板-->
<div class="container">
    <div class="row row-offcanvas row-offcanvas-right">
        {% block content %}<!--自定义模板区域-->

        {% endblock %}
        {% include "common/sidebar.html" %}<!--引入网页的侧边模板-->
    </div><!--/row-->
    {% include "common/footer.html" %}<!--引入网页的底部模板-->
</div>

{% block js %}<!--js模块区域-->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/offcanvas.js') }}"></script>
<script src="{{ url_for('static', filename='js/echarts.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script type="text/javascript">
    var option1 = {
        title: {
            text: '未来一周气温变化',
            subtext: '纯属虚构'
        },
        tooltip: {
            trigger: 'axis'
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
        },
        yAxis: {
            type: 'value',
            axisLabel: {
                formatter: '{value} °C'
            }
        },
        series: [{
            name: '最高气温', type: 'line', data: [11, 11, 15, 13, 12, 13, 10],
            markPoint: {
                data: [
                    {type: 'max', name: '最大值'},
                    {type: 'min', name: '最小值'}
                ]
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ]
            }
        },
            {
                name: '最低气温',
                type: 'line',
                data: [1, -2, 2, 5, 3, 2, 0],
                markPoint: {
                    data: [
                        {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'},
                        [{symbol: 'none', x: '90%', yAxis: 'max'}, {
                            symbol: 'circle',
                            label: {normal: {position: 'start', formatter: '最大值'}},
                            type: 'max',
                            name: '最高点'
                        }]
                    ]
                }
            }
        ]
    };
    var option2 = {
        title: {
            text: '大规模散点图'
        },
        legend: {
            data: ['sin', 'cos']
        },
        xAxis: [{type: 'value', scale: true}],
        yAxis: [{type: 'value', scale: true}],
        series: [{
            name: 'sin', type: 'scatter', large: true, symbolSize: 3, data: (function () {
                var d = [];
                var len = 10000;
                var x = 0;
                while (len--) {
                    x = (Math.random() * 10).toFixed(3) - 0;
                    d.push([
                        x,
                        //Math.random() * 10
                        (Math.sin(x) - x * (len % 2 ? 0.1 : -0.1) * Math.random()).toFixed(3) - 0
                    ]);
                }
                //console.log(d)
                return d;
            })()
        },
            {
                name: 'cos',
                type: 'scatter',
                large: true,
                symbolSize: 2,
                data: (function () {
                    var d = [];
                    var len = 20000;
                    var x = 0;
                    while (len--) {
                        x = (Math.random() * 10).toFixed(3) - 0;
                        d.push([
                            x,
                            //Math.random() * 10
                            (Math.cos(x) - x * (len % 2 ? 0.1 : -0.1) * Math.random()).toFixed(3) - 0
                        ]);
                    }
                    //console.log(d)
                    return d;
                })()
            }
        ]
    };
    var charts = [];
    var chart1 = echarts.init(document.getElementById("left1"));
    var chart2 = echarts.init(document.getElementById("left2"));
    var chart3 = echarts.init(document.getElementById("right11"));
    var chart4 = echarts.init(document.getElementById("right12"));
    var chart5 = echarts.init(document.getElementById("right21"));
    var chart6 = echarts.init(document.getElementById("right22"));
    chart1.setOption(option1);
    chart2.setOption(option1);
    chart3.setOption(option2);
    chart4.setOption(option2);
    chart5.setOption(option1);
    chart6.setOption(option1);
    charts.push(chart1);
    charts.push(chart2);
    charts.push(chart3);
    charts.push(chart4);
    charts.push(chart5);
    charts.push(chart6);
    $(window).resize(function () {
        for (var i = 0; i < charts.length; i++) {
            charts[i].resize();
        }
    });
    $('a[data-toggle="pill"]').on('shown.bs.tab', function (e) {
        for (var i = 0; i < charts.length; i++) {
            charts[i].resize();
        }
    });
</script>

{% endblock %}
</body>
</html>
